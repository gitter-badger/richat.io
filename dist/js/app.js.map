{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","app.js","src/js/app.jsx","node_modules/browserify/node_modules/events/events.js","node_modules/flux/index.js","node_modules/flux/lib/Dispatcher.js","node_modules/flux/lib/invariant.js","node_modules/object-assign/index.js","src/js/actions/messages.js","src/js/components/replyBox.jsx","src/js/dispatchers/app.js","src/js/partials/header.jsx","src/js/partials/messageBox.jsx","src/js/partials/userList.jsx","src/js/stores/messages.js","src/js/stores/user.js","src/js/utils.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","Header","UserList","MessageBox","Page","React","createClass","displayName","render","createElement","className","document","body","./partials/header","./partials/messageBox","./partials/userList",2,"EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","prototype","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","Array","apply","slice","addListener","listener","m","newListener","push","warned","console","trace","on","once","g","removeListener","fired","list","position","splice","removeAllListeners","key","ret","listenerCount","emitter",3,"Dispatcher","./lib/Dispatcher",4,"$Dispatcher_callbacks","$Dispatcher_isPending","$Dispatcher_isHandled","$Dispatcher_isDispatching","$Dispatcher_pendingPayload","invariant","_lastID","_prefix","register","callback","id","unregister","waitFor","ids","ii","$Dispatcher_invokeCallback","dispatch","payload","$Dispatcher_startDispatching","$Dispatcher_stopDispatching","isDispatching","./invariant",5,"condition","format","b","c","d","argIndex","replace","framesToPop",6,"ToObject","val","Object","assign","target","source","from","keys","to",7,"messagesAction","changeOpenChat","newUserID","handleViewAction","userID","../dispatchers/app",8,"ReplyBox","placeholder",9,"appDispatcher","handleServerAction","action","flux","object-assign",10,11,"getStateFromStore","MessagesStore","getChatByUserID","getOpenChatUserID","UserStore","Utils","getInitialState","componentWillMount","addChangeListener","onStoreChange","componentWillUnmount","removeChangeListener","setState","messagesLength","state","messages","currentUserID","user","map","message","index","messageClasses","addons","classSet","message-box__item","message-box__item--from-current","clear","timestamp","contents","lastMessage","lastAccess","recipient","date","getShortDate","../components/replyBox","../stores/messages","../stores/user","../utils",12,"allMessages","getAllChats","messageList","item","openChatID","utils","MessagesActions","sort","statusIcon","getNiceDate","currentUser","isNewMessage","itemClasses","user-list__item","user-list__item--new","user-list__item--active","onClick","bind","src","profilePicture","name","../actions/messages",13,"status","parseInt","messagesStore","off","dispatchToken","actions","updateOpenChatID","events",14,"userStore",15,"distance","Math","round","Date","hour","getHours","minutes","getMinutes","string","defaultString","language",59,118,1439,2879,14567,"days","months","day","getDay","month","getMonth","year","getFullYear","hoursAgo"],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",null,"var Header = require('./partials/header');\nvar UserList = require('./partials/userList');\nvar MessageBox = require('./partials/messageBox');\n\nvar Page = React.createClass({\n\trender: function () {\n\t\treturn (\n\t\t\t<div className=\"app\">\n\t\t\t\t<Header />\n\n\t\t\t\t<UserList />\n\t\t\t\t<MessageBox />\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nReact.render(<Page />, document.body);","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nmodule.exports.Dispatcher = require('./lib/Dispatcher')\n","/*\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Dispatcher\n * @typechecks\n */\n\n\"use strict\";\n\nvar invariant = require('./invariant');\n\nvar _lastID = 1;\nvar _prefix = 'ID_';\n\n/**\n * Dispatcher is used to broadcast payloads to registered callbacks. This is\n * different from generic pub-sub systems in two ways:\n *\n *   1) Callbacks are not subscribed to particular events. Every payload is\n *      dispatched to every registered callback.\n *   2) Callbacks can be deferred in whole or part until other callbacks have\n *      been executed.\n *\n * For example, consider this hypothetical flight destination form, which\n * selects a default city when a country is selected:\n *\n *   var flightDispatcher = new Dispatcher();\n *\n *   // Keeps track of which country is selected\n *   var CountryStore = {country: null};\n *\n *   // Keeps track of which city is selected\n *   var CityStore = {city: null};\n *\n *   // Keeps track of the base flight price of the selected city\n *   var FlightPriceStore = {price: null}\n *\n * When a user changes the selected city, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'city-update',\n *     selectedCity: 'paris'\n *   });\n *\n * This payload is digested by `CityStore`:\n *\n *   flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'city-update') {\n *       CityStore.city = payload.selectedCity;\n *     }\n *   });\n *\n * When the user selects a country, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'country-update',\n *     selectedCountry: 'australia'\n *   });\n *\n * This payload is digested by both stores:\n *\n *    CountryStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       CountryStore.country = payload.selectedCountry;\n *     }\n *   });\n *\n * When the callback to update `CountryStore` is registered, we save a reference\n * to the returned token. Using this token with `waitFor()`, we can guarantee\n * that `CountryStore` is updated before the callback that updates `CityStore`\n * needs to query its data.\n *\n *   CityStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       // `CountryStore.country` may not be updated.\n *       flightDispatcher.waitFor([CountryStore.dispatchToken]);\n *       // `CountryStore.country` is now guaranteed to be updated.\n *\n *       // Select the default city for the new country\n *       CityStore.city = getDefaultCityForCountry(CountryStore.country);\n *     }\n *   });\n *\n * The usage of `waitFor()` can be chained, for example:\n *\n *   FlightPriceStore.dispatchToken =\n *     flightDispatcher.register(function(payload) {\n *       switch (payload.actionType) {\n *         case 'country-update':\n *           flightDispatcher.waitFor([CityStore.dispatchToken]);\n *           FlightPriceStore.price =\n *             getFlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *\n *         case 'city-update':\n *           FlightPriceStore.price =\n *             FlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *     }\n *   });\n *\n * The `country-update` payload will be guaranteed to invoke the stores'\n * registered callbacks in order: `CountryStore`, `CityStore`, then\n * `FlightPriceStore`.\n */\n\n  function Dispatcher() {\n    this.$Dispatcher_callbacks = {};\n    this.$Dispatcher_isPending = {};\n    this.$Dispatcher_isHandled = {};\n    this.$Dispatcher_isDispatching = false;\n    this.$Dispatcher_pendingPayload = null;\n  }\n\n  /**\n   * Registers a callback to be invoked with every dispatched payload. Returns\n   * a token that can be used with `waitFor()`.\n   *\n   * @param {function} callback\n   * @return {string}\n   */\n  Dispatcher.prototype.register=function(callback) {\n    var id = _prefix + _lastID++;\n    this.$Dispatcher_callbacks[id] = callback;\n    return id;\n  };\n\n  /**\n   * Removes a callback based on its token.\n   *\n   * @param {string} id\n   */\n  Dispatcher.prototype.unregister=function(id) {\n    invariant(\n      this.$Dispatcher_callbacks[id],\n      'Dispatcher.unregister(...): `%s` does not map to a registered callback.',\n      id\n    );\n    delete this.$Dispatcher_callbacks[id];\n  };\n\n  /**\n   * Waits for the callbacks specified to be invoked before continuing execution\n   * of the current callback. This method should only be used by a callback in\n   * response to a dispatched payload.\n   *\n   * @param {array<string>} ids\n   */\n  Dispatcher.prototype.waitFor=function(ids) {\n    invariant(\n      this.$Dispatcher_isDispatching,\n      'Dispatcher.waitFor(...): Must be invoked while dispatching.'\n    );\n    for (var ii = 0; ii < ids.length; ii++) {\n      var id = ids[ii];\n      if (this.$Dispatcher_isPending[id]) {\n        invariant(\n          this.$Dispatcher_isHandled[id],\n          'Dispatcher.waitFor(...): Circular dependency detected while ' +\n          'waiting for `%s`.',\n          id\n        );\n        continue;\n      }\n      invariant(\n        this.$Dispatcher_callbacks[id],\n        'Dispatcher.waitFor(...): `%s` does not map to a registered callback.',\n        id\n      );\n      this.$Dispatcher_invokeCallback(id);\n    }\n  };\n\n  /**\n   * Dispatches a payload to all registered callbacks.\n   *\n   * @param {object} payload\n   */\n  Dispatcher.prototype.dispatch=function(payload) {\n    invariant(\n      !this.$Dispatcher_isDispatching,\n      'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.'\n    );\n    this.$Dispatcher_startDispatching(payload);\n    try {\n      for (var id in this.$Dispatcher_callbacks) {\n        if (this.$Dispatcher_isPending[id]) {\n          continue;\n        }\n        this.$Dispatcher_invokeCallback(id);\n      }\n    } finally {\n      this.$Dispatcher_stopDispatching();\n    }\n  };\n\n  /**\n   * Is this Dispatcher currently dispatching.\n   *\n   * @return {boolean}\n   */\n  Dispatcher.prototype.isDispatching=function() {\n    return this.$Dispatcher_isDispatching;\n  };\n\n  /**\n   * Call the callback stored with the given id. Also do some internal\n   * bookkeeping.\n   *\n   * @param {string} id\n   * @internal\n   */\n  Dispatcher.prototype.$Dispatcher_invokeCallback=function(id) {\n    this.$Dispatcher_isPending[id] = true;\n    this.$Dispatcher_callbacks[id](this.$Dispatcher_pendingPayload);\n    this.$Dispatcher_isHandled[id] = true;\n  };\n\n  /**\n   * Set up bookkeeping needed when dispatching.\n   *\n   * @param {object} payload\n   * @internal\n   */\n  Dispatcher.prototype.$Dispatcher_startDispatching=function(payload) {\n    for (var id in this.$Dispatcher_callbacks) {\n      this.$Dispatcher_isPending[id] = false;\n      this.$Dispatcher_isHandled[id] = false;\n    }\n    this.$Dispatcher_pendingPayload = payload;\n    this.$Dispatcher_isDispatching = true;\n  };\n\n  /**\n   * Clear bookkeeping used for dispatching.\n   *\n   * @internal\n   */\n  Dispatcher.prototype.$Dispatcher_stopDispatching=function() {\n    this.$Dispatcher_pendingPayload = null;\n    this.$Dispatcher_isDispatching = false;\n  };\n\n\nmodule.exports = Dispatcher;\n","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n\"use strict\";\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (false) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        'Invariant Violation: ' +\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","'use strict';\n\nfunction ToObject(val) {\n\tif (val == null) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar keys;\n\tvar to = ToObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = arguments[s];\n\t\tkeys = Object.keys(Object(from));\n\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tto[keys[i]] = from[keys[i]];\n\t\t}\n\t}\n\n\treturn to;\n};\n","var Dispatcher = require('../dispatchers/app');\n\nvar messagesAction = {\n  changeOpenChat: function(newUserID) {\n    Dispatcher.handleViewAction({\n      type: 'updateOpenChatID',\n      userID: newUserID\n    });\n  }\n};\n\nmodule.exports = messagesAction;","var ReplyBox = React.createClass({\n\trender: function () {\n\t\treturn (\n\t\t\t<div className=\"reply-box\">\n\t\t\t\t<input className=\"reply-box__input\" placeholder=\"Type message to reply..\" />\n\t\t\t\t<span className=\"reply-box__tip\">\n\t\t\t\t\tPress <span className=\"reply-box__tip__button\">Enter</span> to send\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nmodule.exports = ReplyBox;","var Dispatcher = require('flux').Dispatcher;\n\nvar assign = require('object-assign');\n\n\nvar appDispatcher = assign(new Dispatcher(), {\n  handleServerAction: function (action) {\n    this.dispatch({\n      source: 'server',\n      action: action\n    });\n  },\n  handleViewAction: function (action) {\n    this.dispatch({\n      source: 'view',\n      action: action\n    });\n  }\n});\n\nmodule.exports = appDispatcher;","var Header = React.createClass({\n\trender: function () {\n\t\treturn (\n\t\t\t<header className=\"header\">\n\n\t\t\t</header>\n\t\t)\n\t}\n});\n\nmodule.exports = Header;","var ReplyBox = require('../components/replyBox');\n\nvar MessagesStore = require('../stores/messages');\nvar UserStore = require('../stores/user');\n\nvar Utils = require('../utils');\n\nfunction getStateFromStore() {\n\treturn MessagesStore.getChatByUserID(MessagesStore.getOpenChatUserID());\n}\n\nvar MessageBox = React.createClass({\n\n\tgetInitialState: function () {\n\t\treturn getStateFromStore();\n\t},\n\tcomponentWillMount: function() {\n\t\tMessagesStore.addChangeListener(this.onStoreChange);\n\t},\n\tcomponentWillUnmount: function() {\n\t\tMessagesStore.removeChangeListener(this.onStoreChange);\n\t},\n\tonStoreChange: function() {\n\t\tthis.setState(getStateFromStore());\n\t},\n\trender: function () {\n\t\tvar messagesLength = this.state.messages.length;\n\t\tvar currentUserID = UserStore.user.id;\n\n\t\tvar messages = this.state.messages.map(function (message, index) {\n\t\t\tvar messageClasses = React.addons.classSet({\n\t\t\t\t'message-box__item': true,\n\t\t\t\t'message-box__item--from-current': message.from === currentUserID,\n\t\t\t\t'clear': true\n\t\t\t});\n\n\t\t\treturn (\n\t\t\t\t<li key={ message.timestamp + '-' + message.from } className={ messageClasses }>\n\t\t\t\t\t<div className=\"message-box__item__contents\">\n\t\t\t\t\t\t{ message.contents }\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\n\t\tvar lastMessage = this.state.messages[messagesLength -1];\n\n\t\tif (lastMessage.from === currentUserID) {\n\t\t\tif (this.state.lastAccess.recipient >= lastMessage.timestamp) {\n\t\t\t\tvar date = Utils.getShortDate(lastMessage.timestamp);\n\t\t\t\tmessages.push(\n\t\t\t\t\t<li key=\"read\" className=\"message-box__item message-box__item--read\">\n\t\t\t\t\t\t<div className=\"message-box__item__contents\">\n\t\t\t\t\t\t\tRead { date }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"message-box\">\n\t\t\t\t<ul className=\"message-box__list\">\n\t\t\t\t\t{ messages }\n\t\t\t\t</ul>\n\t\t\t\t<ReplyBox />\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nmodule.exports = MessageBox;","var utils = require('../utils');\n\nvar MessagesStore = require('../stores/messages');\nvar MessagesActions = require('../actions/messages');\n\nvar UserStore = require('../stores/user');\n\nfunction getStateFromStore() {\n\tvar allMessages = MessagesStore.getAllChats();\n\n\tvar messageList = [];\n\n\tfor (var id in allMessages) {\n\t\tvar item = allMessages[id];\n\t\tvar messagesLength = item.messages.length;\n\n\t\tmessageList.push({\n\t\t\tlastMessage: item.messages[messagesLength - 1],\n\t\t\tlastAccess: item.lastAccess,\n\t\t\tuser: item.user\n\t\t});\n\t}\n\treturn {\n\t\topenChatID: MessagesStore.getOpenChatUserID(),\n\t\tmessageList: messageList\n\t};\n}\n\nvar UserList = React.createClass({\n\tgetInitialState: function () {\n\t\treturn getStateFromStore();\n\t},\n\tcomponentWillMount: function() {\n\t\tMessagesStore.addChangeListener(this.onStoreChange);\n\t},\n\tcomponentWillUnmount: function() {\n\t\tMessagesStore.removeChangeListener(this.onStoreChange);\n\t},\n\tonStoreChange: function() {\n\t\tthis.setState(getStateFromStore());\n\t},\n\tchangeOpenChat: function(id) {\n\t\tMessagesActions.changeOpenChat(id);\n\t},\n\trender: function () {\n\t\tthis.state.messageList.sort(function (a, b) {\n\t\t\tif (a.lastMessage.timestamp > b.lastMessage.timestamp) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (a.lastMessage.timestamp < b.lastMessage.timestamp) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t});\n\n\t\tvar messages = this.state.messageList.map(function (message, index) {\n\t\t\tvar date = utils.getNiceDate(message.lastMessage.timestamp);\n\n\t\t\tvar statusIcon;\n\t\t\tif (message.lastMessage.from !== message.user.id) {\n\t\t\t\tstatusIcon = (\n\t\t\t\t\t<i className=\"fa fa-reply user-list__item__icon\" />\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (message.lastAccess.currentUser < message.lastMessage.timestamp) {\n\t\t\t\tstatusIcon = (\n\t\t\t\t\t<i className=\"fa fa-circle user-list__item__icon\" />\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tvar isNewMessage = false;\n\t\t\tif (message.lastAccess.currentUser< message.lastMessage.timestamp) {\n\t\t\t\tisNewMessage = message.lastMessage.from !== UserStore.user.id;\n\t\t\t}\n\n\t\t\tvar itemClasses = React.addons.classSet({\n\t\t\t\t'user-list__item': true,\n\t\t\t\t'clear': true,\n\t\t\t\t'user-list__item--new': isNewMessage,\n\t\t\t\t'user-list__item--active': this.state.openChatID === message.user.id\n\t\t\t});\n\n\t\t\treturn (\n\t\t\t\t<li onClick={ this.changeOpenChat.bind(this, message.user.id) } className={ itemClasses } key={ message.user.id }>\n\t\t\t\t\t<div className=\"user-list__item__picture\">\n\t\t\t\t\t\t<img src={ message.user.profilePicture } />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"user-list__item__details\">\n\t\t\t\t\t\t<h4 className=\"user-list__item__name\">\n\t\t\t\t\t\t\t{ message.user.name }\n\n\t\t\t\t\t\t\t<abbr className=\"user-list__item__timestamp\">\n\t\t\t\t\t\t\t\t{ date }\n\t\t\t\t\t\t\t</abbr>\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<span className=\"user-list__item__message\">\n\t\t\t\t\t\t\t{ statusIcon } { message.lastMessage.contents }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t)\n\t\t}, this);\n\n\t\treturn (\n\t\t\t<div className=\"user-list\">\n\t\t\t\t<ul className=\"user-list__list\">\n\t\t\t\t\t{ messages }\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nmodule.exports = UserList;\n","var Dispatcher = require('../dispatchers/app');\nvar EventEmitter = require('events').EventEmitter;\nvar assign = require('object-assign');\n\nvar messages = {\n  1: {\n    user: {\n      profilePicture: 'https://avatars0.githubusercontent.com/u/7922109?v=3&s=460',\n      id: 1,\n      name: 'Ryan Clark',\n      status: 'online'\n    },\n    lastAccess: {\n      recipient: 1424469794050,\n      currentUser: 1424469794080\n    },\n    messages: [\n      {\n        contents: 'Hey!',\n        from: 2,\n        timestamp: 1424469793023\n      },\n      {\n        contents: 'HeyHo!',\n        from: 2,\n        timestamp: 1424469793024\n      },\n      {\n        contents: 'Hey, what\\'s up?',\n        from: 1,\n        timestamp: 1424469794000\n      },\n      {\n        contents: 'YUNO?',\n        from: 2,\n        timestamp: 1424469795000\n      },\n      {\n        contents: 'WORK?',\n        from: 1,\n        timestamp: 1424469796000\n      }\n    ]\n  },\n  2 : {\n    user: {\n      profilePicture: 'https://avatars3.githubusercontent.com/u/678772?v=3&s=200',\n      id: 2,\n      name: 'Richard Hoffmann',\n      status: 'online'\n    },\n    lastAccess: {\n      recipient: 1424469794050,\n      currentUser: 1424469794080\n    },\n    messages: [\n      {\n        contents: 'Hey!',\n        from: 2,\n        timestamp: 1424469793023\n      },\n      {\n        contents: 'YUNO?',\n        from: 2,\n        timestamp: 1424469795000\n      },\n      {\n        contents: 'WORK?',\n        from: 1,\n        timestamp: 1424469796000\n      }\n    ]\n  }\n};\n\n\nvar openChatID = parseInt(Object.keys(messages)[0], 10);\n\nvar messagesStore = assign({}, EventEmitter.prototype, {\n  addChangeListener: function (callback) {\n    this.on('change', callback);\n  },\n  removeChangeListener: function (callback) {\n    this.off('change', callback);\n  },\n  getOpenChatUserID: function() {\n    return openChatID;\n  },\n  getChatByUserID: function(id) {\n    return messages[id];\n  },\n  getAllChats: function() {\n    return messages;\n  }\n});\n\nmessagesStore.dispatchToken = Dispatcher.register(function(payload) {\n\n  var actions = {\n    updateOpenChatID: function(payload) {\n      openChatID = payload.action.userID;\n      messagesStore.emit('change');\n    }\n  }\n\n  actions[payload.action.type] && actions[payload.action.type](payload);\n});\n\nmodule.exports = messagesStore;","var userStore = {\n\tuser: {\n\t\tid: 1,\n\t\tname: 'John Doe',\n\t\tprofilePicture: 'https://avatars1.githubusercontent.com/u/8901351?v=3&s=200'\n\t}\n};\n\nmodule.exports = userStore;","var utils = {\n\tgetShortDate: function (timestamp) {\n\t\tvar distance = Math.round( ( +new Date() - timestamp ) / 60000 );\n\t\tvar date = new Date(timestamp);\n\n\t\tvar hour = ('0' + date.getHours()).slice(-2);\n\t\tvar minutes = ('0' + date.getMinutes()).slice(-2);\n\n\t\tif (distance > 2879) {\n\t\t\tif (distance > 14567) {\n\t\t\t\treturn this.getNiceDate(timestamp);\n\t\t\t} else {\n\t\t\t\treturn 'Yesterday at ' + hour + ':' + minutes;\n\t\t\t}\n\t\t} else {\n\t\t\treturn 'at ' + hour + ':' + minutes;\n\t\t}\n\t},\n\tgetNiceDate: function (timestamp) {\n\t\tvar defaultString = '%d %f%y at %h:%i';\n\n\t\tvar language = {\n\t\t\t0: 'less than a minute ago',\n\t\t\t1: '1 minute ago',\n\t\t\t59: '%distance minutes ago',\n\t\t\t118: 'an hour ago',\n\t\t\t1439: '%r hours ago',\n\t\t\t2879: 'Yesterday at %h:%i',\n\t\t\t14567: '%l at %h:%i',\n\t\t};\n\t\tvar days = ['Sunday', 'Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];\n\t\tvar months = ['January','February','March','April','May','June','July','August','September','October','November','December'];\n\n\t\tvar date = new Date(timestamp);\n\t\tvar distance = Math.round( ( +new Date() - timestamp ) / 60000 );\n\n\t\tvar string;\n\t\tfor (var i in language) {\n\t\t\tif (distance < i) {\n\t\t\t\tstring = language[i];\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tvar hour = ('0' + date.getHours()).slice(-2);\n\t\tvar minutes = ('0' + date.getMinutes()).slice(-2);\n\t\tvar day = days[date.getDay()];\n\t\tvar month = months[date.getMonth()];\n\n\t\tvar year = date.getFullYear();\n\t\tif (new Date().getFullYear() === year) {\n\t\t\tyear = '';\n\t\t}\n\n\t\tif (string) {\n\t\t\tvar hoursAgo = Math.round(distance / 60);\n\n\t\t\treturn string.replace(/%distance/i, distance)\n\t\t\t\t.replace(/%r/i, hoursAgo)\n\t\t\t\t.replace(/%h/i, hour)\n\t\t\t\t.replace(/%i/i, minutes)\n\t\t\t\t.replace(/%l/i, day);\n\t\t}\n\n\t\treturn defaultString.replace(/%d/i, day)\n\t\t\t.replace(/%f/i, month)\n\t\t\t.replace(/%y/i, year)\n\t\t\t.replace(/%h/i, hour)\n\t\t\t.replace(/%i/i, minutes);\n\t}\n};\n\nmodule.exports = utils;"],"sourceRoot":"/source/"}